<!DOCTYPE html>
<html>
  <head>
    <title>WebTech Exam - Q3</title>
    <link href="instructions.css" rel="stylesheet" type="text/css" />
    <link href="nav.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div class="topnav">
      <div class="topnav-left">
        <img src="images/celtics.svg" />
      </div>
      <div class="topnav-right">
        <ul class="menu">
          <li><a href="index-solved.htm">Schedule</a></li>
          <li><a href="q2-solved.htm">Gordon</a></li>
          <li><a href="q3-solved.htm">Counting Down</a></li>
          <li><a href="q4-solved.htm">Blackjack</a></li>
        </ul>
      </div>
    </div>
    <h1>Yet Another Blackjack</h1>
    <div id="question-body">
      <p>
        In this version of Blackjack, the player always deals three cards. When
        the button is clicked, the page should be updated replacing the three
        cards with three random cards facing up. The card images for each
        value/shape are inside 'images' folder. When player's hand (which is the
        sum of three cards' values) exceeds 21, the paragraph above button
        should show "You are Busted", otherwise it should show "You are Not
        Busted". The value of cards two through ten is their pip value (2
        through 10). Face cards (Jack, Queen, and King) are all worth ten. To
        simplify this game, Ace is worth one.
      </p>
      <div class="question-second">
        <img
          alt="card-1"
          height="100"
          id="card-1"
          src="images/green_back.png"
        />
        <img
          alt="card-2"
          height="100"
          id="card-2"
          src="images/green_back.png"
        />
        <img
          alt="card-3"
          height="100"
          id="card-3"
          src="images/green_back.png"
        />
        <p id="result">You are Not Busted.</p>
        <button>Hit</button>
      </div>
    </div>
    <script>
      const shapes = ["C", "D", "H", "S"];
      const values = [
        "A",
        "2",
        "3",
        "4",
        "5",
        "6",
        "7",
        "8",
        "9",
        "10",
        "J",
        "Q",
        "K",
      ];

      const result = document.getElementById("result");

      function hit() {
        let sum = 0;
        for (let i = 1; i <= 3; i++) {
          let r1 = Math.floor(Math.random() * 13);
          let r2 = Math.floor(Math.random() * 4);
          let v = values[r1];
          let s = shapes[r2];
          document.getElementById("card-" + i).src = "images/" + v + s + ".png";
          if (r1 > 9) {
            r1 = 9;
          }
          sum += r1 + 1;
          console.log(sum);
        }
        if (sum > 21) {
          result.innerHTML = "<strong>You are Busted!</strong>";
          result.style.color = "red";
        } else {
          result.innerHTML = "You are Not Busted!";
          result.style.color = "black";
        }
      }
      document.querySelector("button").onclick = hit;
    </script>
  </body>
</html>